---
type Tone = 'blue' | 'green' | 'purple' | 'amber' | 'neutral';

interface Props {
  tone?: Tone;
  class?: string;
}

const { tone = 'neutral', class: cls = '' } = Astro.props;

const toneStyles: Record<Tone, { border: string; glow: string; bg: string }> = {
  blue:    { bg: 'rgba(59,130,246,0.04)',  border: 'rgba(59,130,246,0.14)',  glow: 'rgba(59,130,246,0.06)'  },
  green:   { bg: 'rgba(34,197,94,0.04)',   border: 'rgba(34,197,94,0.14)',   glow: 'rgba(34,197,94,0.06)'   },
  purple:  { bg: 'rgba(168,85,247,0.04)',  border: 'rgba(168,85,247,0.14)',  glow: 'rgba(168,85,247,0.06)'  },
  amber:   { bg: 'rgba(245,158,11,0.04)',  border: 'rgba(245,158,11,0.14)',  glow: 'rgba(245,158,11,0.06)'  },
  neutral: { bg: 'var(--color-surface-1)', border: 'rgba(255,255,255,0.065)', glow: 'transparent'            },
};

const t = toneStyles[tone];
---

<div
  class:list={['relative rounded-[20px] overflow-hidden', cls]}
  style={`background: ${t.bg}; border: 1px solid ${t.border};`}
>
  <!-- Subtle ambient glow inside panel -->
  {tone !== 'neutral' && (
    <div
      class="absolute inset-0 pointer-events-none"
      aria-hidden="true"
      style={`background: radial-gradient(ellipse at 50% 0%, ${t.glow} 0%, transparent 65%);`}
    ></div>
  )}

  <div class="relative z-10">
    <slot />
  </div>
</div>
